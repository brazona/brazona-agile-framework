FROM openjdk:11 
VOLUME /tmp 

ARG SECURITY_CONFIG_SERVER_ENCRYPT=default
ARG SECURITY_CONFIG_SERVER_PASS=default
ARG SECURITY_CONFIG_SERVER_USER=default
ARG PROFILE_CONFIG_SERVER=dev

ENV SECURITY_CONFIG_SERVER_ENCRYPT=$SECURITY_CONFIG_SERVER_ENCRYPT
ENV SECURITY_CONFIG_SERVER_PASS=$SECURITY_CONFIG_SERVER_PASS
ENV SECURITY_CONFIG_SERVER_USER=$SECURITY_CONFIG_SERVER_USER
ENV PROFILE_CONFIG_SERVER=$PROFILE_CONFIG_SERVER

EXPOSE 8761 
ADD ./target/*.jar hr-eureka-server.jar 
ENTRYPOINT ["java","-jar","/hr-eureka-server.jar"]